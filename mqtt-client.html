<html>
<head>
<script type="text/javascript" src="https://unpkg.com/mqtt/dist/mqtt.min.js"
></script>
</head>
<script>
    let options = {
        //paikallinen toiminta
        //host: 'localhost',
        //port: 8081,
        //protocol: 'ws'
        //herokun kautta, git linkitetty
        host: 'mqtt-broker-tt.herokuapp.com',
        port: 443,
        protocol: 'wss'
    };
    let client = mqtt.connect(options)
        client.on('connect', () => {
        console.log('connected');
    });
    client.subscribe("test_topic");
    client.on('message', function (topic, payload) {
        console.log([topic, payload].join(": "))
    });
    client.publish("test_topic", "hello world!")
    //test_topic = aihe, hello world! = data!!
</script>
</html>
